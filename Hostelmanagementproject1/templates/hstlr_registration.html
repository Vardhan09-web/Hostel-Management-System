<!DOCTYPE html>
<html>
<head>
    <title>Register Hosteller</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'hstlr_regstyles.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    {% comment %} <div class="image">
        <img src="{% static 'images/hostelimg.jpg'%}" alt="back">
    </div> {% endcomment %}
    <div class="container">
        <form id="registration-form" method="post" class="registration-form">
            {% csrf_token %}
            <h2> <i class="fa-sharp fa-solid fa-user-tie"></i> Hosteller Admission Form</h2>
            
            <div class="form-group">
                <label for="hstlr_fname"><i class="fas fa-user"></i>First Name:</label>
                <input type="text" id="hstlr_fname" name="hstlr_fname" required>
            </div>

            <div class="form-group">
                <label for="hstlr_lname"><i class="fas fa-user"></i>Last Name:</label>
                <input type="text" id="hstlr_lname" name="hstlr_lname" required>
            </div>

            <div class="form-group">
                <label for="hstlr_email"><i class="fas fa-envelope"></i>Email:</label>
                <input type="email" id="hstlr_email" name="hstlr_email" required>
            </div>

            <div class="form-group">
                <label for="hstlr_phn"> <i class="fas fa-phone"></i>Phone:</label>
                <input type="number" id="hstlr_phn" name="hstlr_phn" required>
            </div>

            <div class="form-group">
                <label for="admission_date"> <i class="fas fa-calendar-alt"> </i>Admission Date:</label>
                <input type="date" id="admission_date" name="admission_date" required>
            </div>

            <div class="form-group">
                <label for="hstlr_address"> <i class="fas fa-home"></i>Address:</label>
                <input type="text" id="hstlr_address" name="hstlr_address" required>
            </div>

            <div class="form-group">
                <label for="f_name"> <i class="fas fa-user"> </i>Guardian's Name:</label>
                <input type="text" id="f_name" name="f_name" required>
            </div>

            <div class="form-group">
                <label for="f_phn"> <i class="fas fa-phone"></i>Guardian's Phone:</label>
                <input type="number" id="f_phn" name="f_phn" required>
            </div>

            <div class="form-group">
                <label for="hstlr_gender"> <i class="fas fa-venus-mars"></i>Gender:</label>
                <select id="hstlr_gender" name="hstlr_gender" required>
                    <option value="">Select Gender</option>
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                    <option value="O">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="branch">Branch:</label>
                <select id="branch" name="branch" required>
                    <option value="">Select Branch</option>
                    <option value="CSE">Computer Science Engineering</option>
                    <option value="ECE">Electronics and Communication</option>
                    <option value="ME">Mechanical Engineering</option>
                    <option value="CE">Civil Engineering</option>
                    <option value="EEE">Electrical Electronics and Engineering</option>
                    <option value="IT">Information Technology</option>
                    <option value="other">Others</option>
                </select>
            </div>

            <div class="form-group">
                <label for="hstlr_passwd"> <i class="fas fa-lock"></i> Password:</label>
                <input type="password" id="hstlr_passwd" name="hstlr_passwd" required>
            </div>

            <button type="submit"> <i class="fas fa-user-plus"></i> Register</button>

            {% if error %}
            <p class="error-message">{{ error }}</p>
            {% endif %}
        </form>
    </div>

    <script>
        document.getElementById('registration-form').addEventListener('submit', function(event) {
            var isValid = true;

            // First name validation
            var fname = document.getElementById('hstlr_fname').value;
            if (fname.trim() === "") {
                isValid = false;
                alert("First Name is required");
            }

            // Last name validation
            var lname = document.getElementById('hstlr_lname').value;
            if (lname.trim() === "") {
                isValid = false;
                alert("Last Name is required");
            }

            // Email validation
            var email = document.getElementById('hstlr_email').value;
            var emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
            if (!email.match(emailPattern)) {
                isValid = false;
                alert("Please enter a valid email address");
            }

            // Phone validation
            var phone = document.getElementById('hstlr_phn').value;
            if (phone.trim() === "" || phone.length != 10) {
                isValid = false;
                alert("Please enter a valid 10-digit phone number");
            }

            // Guardian's phone validation
            var gphone = document.getElementById('f_phn').value;
            if (gphone.trim() === "" || gphone.length != 10) {
                isValid = false;
                alert("Please enter a valid 10-digit guardian's phone number");
            }

            // Gender validation
            var gender = document.getElementById('hstlr_gender').value;
            if (gender === "") {
                isValid = false;
                alert("Please select a gender");
            }

            // Branch validation
            var branch = document.getElementById('branch').value;
            if (branch === "") {
                isValid = false;
                alert("Please select a branch");
            }

            // Password validation
            var password = document.getElementById('hstlr_passwd').value;
            if (password.length < 6) {
                isValid = false;
                alert("Password must be at least 6 characters long");
            }

            if (!isValid) {
                event.preventDefault();
            }
        });
    </script>
</body>
</html>